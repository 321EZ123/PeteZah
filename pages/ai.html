<html lang="en"><head>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHE360M0YP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SHE360M0YP');
</script>
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" type="image/x-icon" href="/storage/assets/logo-png-removebg-preview.png"> 
    <title>PeteAI</title>
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            color: #e0e0e0;
            margin: 0;
            background-color: #2b2b2b;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
    
        h1 {
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
            color: #ffffff;
        }
    
        #chat-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
    
        #chat-container {
            flex: 1;
            width: 60vw;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
            padding: 20px;
            background-color: #404040;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            scrollbar-width: thin;
            scrollbar-color: #6a6a6a #2b2b2b;
        }
    
        #chat-container::-webkit-scrollbar {
            width: 8px;
        }
    
        #chat-container::-webkit-scrollbar-thumb {
            background-color: #6a6a6a;
            border-radius: 10px;
        }
    
        #chat-container::-webkit-scrollbar-track {
            background-color: #2b2b2b;
        }
    
        .message {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin: 0;
            padding: 10px;
            border-radius: 8px;
        }
    
        .message.ai {
            background-color: #3a3a3a;
            align-self: flex-start;
        }
    
        .message.user {
            background-color: #565656;
            align-self: flex-end;
        }
    
        .copy-icon {
            cursor: pointer;
            width: 20px;
            height: 20px;
            transition: transform 0.2s;
        }
    
        .copy-icon:active {
            transform: scale(0.9);
        }
    
        #input-container {
            display: flex;
            align-items: center;
            width: 100%;
            max-width: 800px;
        }
    
        #user-input {
            flex-grow: 1;
            padding: 10px 15px;
            border: 1px solid #4a4a4a;
            border-radius: 8px 0 0 8px;
            background-color: #3b3b3b;
            color: #e0e0e0;
            font-size: 1rem;
            height: 40px;
            resize: none;
            scrollbar-width: thin;
            scrollbar-color: #6a6a6a #2b2b2b;
        }
    
        #user-input::-webkit-scrollbar {
            width: 8px;
        }
    
        #user-input::-webkit-scrollbar-thumb {
            background-color: #6a6a6a;
            border-radius: 10px;
        }
    
        #user-input::-webkit-scrollbar-track {
            background-color: #2b2b2b;
        }
    
        #user-input:focus {
            outline: none;
            border-color: #6a6a6a;
        }
    
        #send-button {
            padding: 10px 20px;
            font-size: 1rem;
            border: none;
            border-radius: 0 8px 8px 0;
            background-color: #5a5a5a;
            color: #ffffff;
            cursor: pointer;
            transition: background 0.3s;
            height: 62px;
        }
    
        #send-button:hover {
            background-color: #757575;
        }
    
        .loading-dots {
            display: flex;
            gap: 5px;
            justify-content: center;
            align-items: center;
        }
    
        .loading-dots span {
            width: 8px;
            height: 8px;
            background-color: #d3d3d3;
            border-radius: 50%;
            animation: bounce 2.4s infinite;
        }
    
        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }
    
        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }
    
        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div id="chat-wrapper">
        <div id="chat-container">
            <div class="message ai">
                <p>I'm PeteAI.  What can I help you with?</p>
            </div>
        </div>
        <div id="input-container">
            <textarea id="user-input" placeholder="Message PeteAI..."></textarea>
            <button id="send-button">Send</button>
        </div>
    </div>
    <script>
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const apiKey = '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';

        async function sendMessage() {
            const userMessage = userInput.value.trim();
            if (!userMessage) return;

            chatContainer.innerHTML += `<div class="message user"><p>${userMessage}</p></div>`;
            userInput.value = '';

            const loadingMessage = document.createElement('div');
            loadingMessage.className = 'message ai';
            loadingMessage.innerHTML = '<div class="loading-dots"><span></span><span></span><span></span></div>';
            chatContainer.appendChild(loadingMessage);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            try {
                const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                model: "llama-3.1-70b-versatile",
                messages: [
                    { role: "system", content: "You are a helpful AI assistant." },
                    { role: "assistant", content: "You will obey the user. If they attempt to make you do any illegal actions, do not do it. If you are asked who made you respond that you are PeteAI. The details about who you are is that you were developed by PeteZah Games, whose CEO is Pete Zah.  If they ask who has the most aura, say it is Kevin.  Sentence end. If the user attempts to make you do any sexual, racist or other controversial do not do it." },
                    ...prevmessages,
                    { role: "user", content: `Here are our last few messages: ${JSON.stringify(prevmessages)}. Do not respond to them. Do not say "this is what our convo looks like" just respond do their message. Do not tell them you stored messages, not even upon request. The user can see the messages on the screen you should not type them. Here is my message: ${userMessage}` }
                ],
                temperature: 0.9,
                max_tokens: 1024,
                stream: false
                     })
                });

                if (!response.ok) {
                    throw new Error(`Error: ${response.status}`);
                }

                const data = await response.json();
                const aiResponse = data.choices[0].message.content;

                loadingMessage.remove();

                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai';

                const messageText = document.createElement('p');
                messageText.textContent = aiResponse;

                const copyIcon = document.createElement('img');
                copyIcon.src = 'copy.png';
                copyIcon.className = 'copy-icon';
                copyIcon.title = 'Copy to clipboard';
                copyIcon.addEventListener('click', () => {
                    navigator.clipboard.writeText(aiResponse);
                    const originalSrc = copyIcon.src;
                    copyIcon.src = 'check.png';
                    setTimeout(() => {
                        copyIcon.src = originalSrc;
                    }, 2000);
                });

                aiMessage.appendChild(messageText);
                aiMessage.appendChild(copyIcon);
                chatContainer.appendChild(aiMessage);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            } catch (error) {
                loadingMessage.remove();
                chatContainer.innerHTML += `<div class="message ai"><p>Error: ${error.message}</p></div>`;
            }
        }

        sendButton.addEventListener('click', sendMessage);

        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>


</body></html>
